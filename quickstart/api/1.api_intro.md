## 接口服务器
#### http接口服务器支持以下功能

|名称|说明|名称|说明|
|------|-------|-------|-------|
|智能路由|支持|并发数统计|支持|
|静态文件|支持|请求执行时长|支持|
|TLS|支持|状态码统计|支持|
|主机头限制|支持|URL转跳|支持|
|自定义http头|支持|json输出|支持|
|gzip|支持|xml输出|支持|
|deflate|支持|OnlyAllowAjaxRequest|支持|
|jwt|支持|xsrf|支持|

## 服务器参数配置
#### 1. 服务配置概况
    |-- [platName]
	|   -- servers 
	|       --[systemName]
	|          --api
	|             --conf
	|                --[tagName]
	|                     --router
    |                     --metric
    |                     --static
    |                     --auth
    |                     --header
    |   --var
    |       --db
    |          --oracle
    |       --influxdb
    |          --oracle
    |       --conf
    |          --[systemName]
+ 服务配置路径为：/[platName]/[servers]/[systemName]/api/conf
+ 公共参数路径为：/[platName]/var

|名称|必须|说明|
|------|------|------|
|[tagName]|必须|服务器主配置信息，包含服务器启动的必须参数|
|router|必须|路由配置信息|
|metric|可空|influxdb配置信息，用于存放服务器实时请求数据(QPS,执行时长，异常次数等)|
|static|可空|静态文件配置，如路径，扩展名等|
|auth|可空|安全认证信息，包括:jwt,xsrf,api basic,auth2等|
|header|可空|所有请求都要返回的公共头信息|



#### 2. 服务器主配置
服务器主配置信息，包含服务器启动的必须参数，配置路径为:`/[platName]/[servers]/[systemName]/api/conf/[tagName]`
```json
{
    "address":":8080",
    "status":"start",
    "tls":{
        "cert":"../www.baidu.com.crt",
        "key":"../baidu2017098773.key"
    },
    "metric":"@domain/var/influxdb/metric"
}
```

|参数名|必须|说明|
|------|-------|------|
|address|必须|服务器启动地址,有效的格式为`[ip]:<port>`,ip地址为空时为本机所有ip|
|status|必须|服务器状态，可选值为: start(启动)，停止(stop)|
|tls|可空|tls证书配置，非tls时可空|
|metric|可空|未配置时查找当前配置节点的子节点中是否存在名称为`metric`的配置，没有则不启动metric|

